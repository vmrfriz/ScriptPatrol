## ScriptPatrol 2.0 [:earth_africa:](https://scriptpatrol.tk)

#### Основные модули программы
- [События](#evt): назначение действий, выполняемых после определённого события
- [Сценарии](#sct): блоки действий, зависящие от текущих условий
- [Условия](#exp): объект условий для более гибкого выполнения действий
- [Аккаунт](#acc): краткая информация об аккаунте, синхронизация профилей, синхронизация настроек
- [Настройки](#stg): язык, параметры запуска, обновление, защиты от случайных действий, поведение программы
- [Справка](#hlp): о разработчиках, ссылка на сайт, помощь в настройке

#### Вспомогательны модули программы
- [Профили](#pfl): объект, содержащий всю информацию о состоянии [Событий](#evt), [Сценариев](#sct) и [Условий](#exp)
- [НЕ РАСПРЕДЕЛЕНО](#todo): НЕ РАСПРЕДЕЛЕНО


## События `#evt`
#### Действия с событиями
- Добавлять
- Изменять
- Дублировать
- Удалять
- Сортировать по:
    - Времени создания
    - Названию
    - Типу события

#### Объект
todo: Событие состоит из: ...

#### Интерфейсы
todo: Интерфейсы


## Сценарии `#sct`
Сценарии - это блоки действий, выполняемые в зависимости от текущей ситуации. Активировать блок действий можно с помощью [Событий](#evt).

#### Действия со сценариями
- Добавлять
- Изменять
- Дублировать
- Удалять
- Сортировать по:
    - Времени создания
    - Названию

#### Интерфейсы
- Вид списка сценариев с кнопками управления
  > Или другими элементами управления
- Интерфейс редактирования выбранного сценария
  > Должен давать возможность редактировать все параметры [объекта](#sct-obj)

#### Объект `#sct-obj`
Каждый сценарий содержит в себе следующую информацию:

- Название сценария
- Список действий, состоящих из
    - [Условия выполнения](#exp)
    - Текст и/или переменные
    - Задержка после выполнения (1000 мсек = 1 сек)
    - Способ отправки:
        - Отправка в чат
        - Ввод в чат без отправки (останавливает выполнение до отправки)
        - Ввод в закрытый чат


## Условия `#exp`
Объект, содержащий в себе желаемые пользователем условия. Выполнение объекта возвращает `правду` или `ложь` модулю, который к нему обратился

#### Действия с условиями
- Добавлять
- Изменять
- Дублировать
- Удалять (выделенные)
- Сортировать по:
    - Времени создания
    - Названию
- Экспортировать все
- Импортировать

#### Объект
Кажое условие содержит в себе следующую информацию

- Название условия _(опционально)_
  > Если указано название, условие будет сохранено для дальнейшего использования. Иначе оно не будет отображаться в списке условий
- Список условий, состоящих из:
    - Переменная
    - Оператор сравнения
    - Значение (переменная, состояние, текст)

#### Интерфейс
В интерфейсе изначально существует одно неопределённое условие. Условие содержит в себе 3 выпадающих списка. Выбирать можно только последовательно. При изменении предыдущего списка, следующий сбрасывается.

Переменные        | Оператор сравнения        | Переменные, состояния
----------------- |-------------------------- | ------------------
Мой ID            | больше<br>равен<br>меньше | ID цели<br>Свой вариант (поле ввода)
ID цели           | больше<br>равен<br>меньше | Мой ID<br>Свой вариант (поле ввода)
Моё состояние     | равно<br>не равно         | Пешеход<br>Водитель<br>Пассажир<br>В транспорте<br>Состояние цели
Состояние цели    | равно<br>не равно         | Пешеход<br>Водитель<br>Пассажир<br>В транспорте<br>Мой состояние
Растояние до цели | больше<br>меньше          | Поле ввода растояния
Мой скин          | равен<br>не равен         | Скин цели<br>IDы через запятую
Скин цели         | равен<br>не равен         | Мой скин<br>IDы через запятую
Мой цвет ника     | равен<br>не равен         | Цвет ника цели<br>Коды через запятую
Цвет ника цели    | равен<br>не равен         | Мой цвет ника<br>Коды через запятую
Оружие в руке     | равно<br>не равно         | Присутствует<br>Отсутствует<br>Оружие в руке цели<br>IDы через запятую
Оружие у цели     | равно<br>не равно         | Присутствует<br>Отсутствует<br>Оружие в моей руке<br>IDы через запятую
Ник цели          | равен<br>не равен         | Ники через запятую
Время             | позднее<br>раньше         | Часы:минуты


## Аккаунт `#acc`
- Логин-ссылка<br>``Переход на сайт в свой профиль``
- Синхронизация профилей биндера<br>``Кнопка, анимация, индикатор``
- Ссылка на покупку премиум для аккаунта<br>``Ссылка на сайт, если пользователь авторизован``


## Настройки `#stg`
#### Выключатели
- [ ] Запуск при старте Windows
- [ ] Показывать окно при запуске
- [ ] Автоматически загружать обновления
- [X] Требовать ввести название бинда для удаления
- [X] Требовать пароль от аккаунта для синхронизации с этого ПК
- [ ] Автоперенос длинных сообщений ``Настройки``
- [ ] Сохранять чатлог в отдельный файл после выхода из игры
- [ ] Включить SMS-ассистент
- [ ] Вводить заготовку сообщения в закрытый чат при получении SMS

#### Функции
- Экспорт настроек в файл ``открывается выбор папки``
- Испорт настроек из файла ``открывается выбор файла``
- Проверка обновлений ``Индикатор, анимация``
- Настройка [типов чатов](#stg-cht) по регулярным выражениям
- Настройка автопереноса длинных сообщений ``todo: скорее всего, регулярные выражения``
- Горячая клавиша отмены всех текущих действий (сценариев)

#### Интерфейс настройки чатов `#stg-cht`
Настройка в виде списка, каждый элемент которого содержит следующую информацию:

- Название чата
- Регулярное выражение для определения типа чата `(.*) - \{[\d\w{6}]\}([A-Za-z0-9_]{6,21}) \((\d{1,3})\)`
- Часть регулярного выражения, содержащая сообщение `$1`
- Часть регулярного выражения, содержащая ник отправителя `$2` _(опционально)_
- Часть регулярного выражения, содержащая ID отправителя `$3` _(опционально)_

Настройка предназначена для определения типов чатов для разных серверов.


## Справка `#hlp`
- Кнопка "Как пользоваться?" ``Ссылка на сайт``
- Кнопка "О разработчиках" ``Интерфейс``
- Ссылка на сайт ``Ссылка на сайт``


## Профили `#prf`

---------------







## НЕ РАСПРЕДЕЛЕНО `#todo`

- [ ] Переменные<br>
  > Условно выделенный текст, который при выполненнии заменяется на результат работы сценария или на другой текст. Могут быть использованы в сценариях, биндах и в чате
- [ ] Архив информации (в прошлом: Шпаргалки)<br>
  > Архив для хранения и оперативного получения информации. Создание акрхива возможно через интерфейс программы, а просмотр через интерфейс или с помощью интерфейса поиска в игре
- [ ] Клавиша отмены<br>
  > Горячая клавиша, позволяющая прекратить все выполняемые действия: бинды, сценарии, ситуации, др.
